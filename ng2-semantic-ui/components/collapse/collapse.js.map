{"version":3,"sources":["collapse.ts"],"names":[],"mappings":"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","file":"collapse.js","sourceRoot":"","sourcesContent":["import {Directive, ElementRef, Input, HostBinding, Renderer} from '@angular/core';\r\nimport'web-animations-js';\nexport class SuiCollapse {\nprivate _isExpanded:boolean;\n/**\n * @return {?}\n */\nprivate get isCollapsed() {\r\n        return !this._isExpanded && !this._isCollapsing;\r\n    }\nprivate _isCollapsing:boolean;\nprivate _pristine:boolean;\n/**\n * @return {?}\n */\nprivate get suiCollapse():boolean {\r\n        return this._isExpanded;\r\n    }\n/**\n * @param {?} value\n * @return {?}\n */\nprivate set suiCollapse(value:boolean) {\r\n        if (value) {\r\n            this.hide();\r\n        }\r\n        else {\r\n            this.show();\r\n        }\r\n    }\npublic collapseDuration:number;\n/**\n * @param {?} _element\n * @param {?} _renderer\n */\npublic constructor(private _element:ElementRef,\nprivate _renderer: Renderer) {\r\n        this._pristine = true;\r\n\r\n        // Collapse animation duration is 350ms by default.\r\n        this.collapseDuration = 350;\r\n\r\n        this._isExpanded = false;\r\n        this._isCollapsing = false;\r\n    }\n/**\n * @return {?}\n */\npublic hide() {\r\n        this._isCollapsing = true;\r\n        this._isExpanded = false;\r\n\r\n        // Forcibly hide the overflow so that content is not visible past the boundaries of its container.\r\n        this._renderer.setElementStyle(this._element.nativeElement, 'overflow', 'hidden');\r\n\r\n        // Animate the host element from its scroll height to 0.\r\n        this.animate(this._element.nativeElement.scrollHeight, 0, () => {\r\n            this._isCollapsing = false;\r\n        });\r\n    }\n/**\n * @return {?}\n */\npublic show() {\r\n        this._isCollapsing = true;\r\n\r\n        // Animate the host element from its offset height to its scroll height.\r\n        this.animate(this._element.nativeElement.offsetHeight, this._element.nativeElement.scrollHeight, () => {\r\n            // Remove the overflow override to enable user styling once again.\r\n            this._renderer.setElementStyle(this._element.nativeElement, 'overflow', null);\r\n\r\n            this._isCollapsing = false;\r\n            this._isExpanded = true;\r\n        });\r\n    }\n/**\n * @param {?} startHeight\n * @param {?} endHeight\n * @param {?} callback\n * @return {?}\n */\nprivate animate(startHeight:number, endHeight:number, callback:() => void) {\r\n        // Animate the collapse using the web animations API.\r\n        this._renderer.invokeElementMethod(\r\n            this._element.nativeElement,\r\n            \"animate\",\r\n            [\r\n                [\r\n                    {\r\n                        height: `${startHeight}px`\r\n                    },\r\n                    {\r\n                        height: `${endHeight}px`\r\n                    }\r\n                ],\r\n                {\r\n                    delay: 0,\r\n                    // Disable animation on 1st collapse / expansion.\r\n                    duration: this._pristine ? 0 : this.collapseDuration,\r\n                    iterations: 1,\r\n                    easing: \"ease\",\r\n                    fill: \"both\"\r\n                }\r\n            ]);\r\n\r\n        if (this._pristine) {\r\n            // Remove pristine flag when first hit.\r\n            this._pristine = false;\r\n        }\r\n\r\n        setTimeout(() => callback(), this.collapseDuration);\r\n    }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\r\n    selector: '[suiCollapse]'\r\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_isExpanded': [{ type: HostBinding, args: ['class.expanded', ] },],\n'isCollapsed': [{ type: HostBinding, args: ['class.collapsed', ] },],\n'_isCollapsing': [{ type: HostBinding, args: ['class.collapsing', ] },],\n'suiCollapse': [{ type: Input },],\n'collapseDuration': [{ type: Input },],\n};\n}\n\nfunction SuiCollapse_tsickle_Closure_declarations() {\n/** @type {?} */\nSuiCollapse.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSuiCollapse.ctorParameters;\n/** @type {?} */\nSuiCollapse.propDecorators;\n/** @type {?} */\nSuiCollapse.prototype._isExpanded;\n/** @type {?} */\nSuiCollapse.prototype._isCollapsing;\n/** @type {?} */\nSuiCollapse.prototype._pristine;\n/** @type {?} */\nSuiCollapse.prototype.collapseDuration;\n/** @type {?} */\nSuiCollapse.prototype._element;\n/** @type {?} */\nSuiCollapse.prototype._renderer;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}