{"version":3,"sources":["dropdown.ts"],"names":[],"mappings":"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","file":"dropdown.js","sourceRoot":"","sourcesContent":["import {Directive, Input, HostBinding, EventEmitter, Output, AfterContentInit, ContentChild, Renderer, ElementRef, HostListener, QueryList, ContentChildren, forwardRef} from '@angular/core';\r\nimport {SuiTransition, Transition} from '../transition/transition';\r\nimport {TransitionController} from '../transition/transition-controller';\r\nimport {DropdownService, DropdownAutoCloseType} from './dropdown.service';\r\nimport {SuiDropdownMenu} from './dropdown-menu';\r\nimport {PositioningService, PositioningPlacement} from '../util/positioning.service';\r\nimport {KeyCode, HandledMouseEvent, HandledKeyboardEvent} from '../util/util';\nexport class SuiDropdown implements AfterContentInit {\npublic service:DropdownService;\nprivate _menu:SuiDropdownMenu;\nprivate _children:QueryList<SuiDropdown>;\n/**\n * @return {?}\n */\npublic get children() {\r\n        // @ContentChildren includes the current element by default.\r\n        return this._children.filter(c => c !== this);\r\n    }\n/**\n * @return {?}\n */\npublic get isOpenChange() {\r\n        return this.service.isOpenChange;\r\n    }\n/**\n * @return {?}\n */\npublic get isActive() {\r\n        // This is to ensure nested dropdowns don't get made bold.\r\n        return this.service.isOpen && !this.service.isNested;\r\n    }\n/**\n * @return {?}\n */\npublic get isOpen() {\r\n        return this.service.isOpen;\r\n    }\n/**\n * @param {?} value\n * @return {?}\n */\npublic set isOpen(value:boolean) {\r\n        // If we are opening the dropdown, we want to always open its parents.\r\n        this.service.setOpenState(value, !!value);\r\n    }\n/**\n * @return {?}\n */\npublic get isDisabled() {\r\n        return this.service.isDisabled;\r\n    }\n/**\n * @param {?} value\n * @return {?}\n */\npublic set isDisabled(value:boolean) {\r\n        this.service.setDisabledState(value);\r\n    }\n/**\n * @return {?}\n */\npublic get tabIndex() {\r\n        return (this.isDisabled || this.service.isNested) ? null : 0;\r\n    }\n/**\n * @return {?}\n */\npublic get autoClose() {\r\n        return this.service.autoCloseMode;\r\n    }\n/**\n * @param {?} value\n * @return {?}\n */\npublic set autoClose(value:DropdownAutoCloseType) {\r\n        this.service.autoCloseMode = value;\r\n    }\n/**\n * @param {?} _element\n */\nconstructor(private _element:ElementRef) {\r\n        this.service = new DropdownService();\r\n    }\n/**\n * @return {?}\n */\npublic ngAfterContentInit() {\r\n        if (!this._menu) {\r\n            throw new Error(\"You must set [suiDropdownMenu] on the menu element.\");\r\n        }\r\n        this._menu.service = this.service;\r\n\r\n        this.childrenUpdated();\r\n        this._children.changes\r\n            .subscribe(() => this.childrenUpdated());\r\n    }\n/**\n * @return {?}\n */\nprivate childrenUpdated() {\r\n        // Reregister child dropdowns each time the menu content changes.\r\n        this.children\r\n            .map(c => c.service)\r\n            .forEach(s => this.service.registerChild(s))\r\n    }\n/**\n * @param {?} e\n * @return {?}\n */\npublic onClick(e:HandledMouseEvent) {\r\n        if (!e.eventHandled) {\r\n            e.eventHandled = true;\r\n\r\n            this.service.toggleOpenState();\r\n        }\r\n    }\n/**\n * @param {?} e\n * @return {?}\n */\npublic onKeypress(e:HandledKeyboardEvent) {\r\n        // Block the keyboard event from being fired on parent dropdowns.\r\n        if (!e.eventHandled) {\r\n\r\n            if (e.keyCode == KeyCode.Enter) {\r\n                e.eventHandled = true;\r\n\r\n                this.service.setOpenState(true);\r\n            }\r\n        }\r\n    }\n/**\n * @param {?} e\n * @return {?}\n */\npublic onDocumentClick(e:MouseEvent) {\r\n        if (!this._element.nativeElement.contains(e.target)) {\r\n            if (this.service.autoCloseMode == DropdownAutoCloseType.ItemClick || this.service.autoCloseMode == DropdownAutoCloseType.OutsideClick) {\r\n                // No need to reflect in parent since they are also bound to document.\r\n                this.service.setOpenState(false);\r\n            }\r\n        }\r\n    }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\r\n    selector: '[suiDropdown]'\r\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_menu': [{ type: ContentChild, args: [SuiDropdownMenu, ] },],\n'_children': [{ type: ContentChildren, args: [SuiDropdown, { descendants: true }, ] },],\n'isOpenChange': [{ type: Output },],\n'isActive': [{ type: HostBinding, args: ['class.active', ] },],\n'isOpen': [{ type: Input },],\n'isDisabled': [{ type: HostBinding, args: ['class.disabled', ] },{ type: Input },],\n'tabIndex': [{ type: HostBinding, args: ['attr.tabindex', ] },],\n'autoClose': [{ type: Input },],\n'onClick': [{ type: HostListener, args: [\"click\", ['$event'], ] },],\n'onKeypress': [{ type: HostListener, args: [\"keypress\", ['$event'], ] },],\n'onDocumentClick': [{ type: HostListener, args: [\"document:click\", [\"$event\"], ] },],\n};\n}\n\nfunction SuiDropdown_tsickle_Closure_declarations() {\n/** @type {?} */\nSuiDropdown.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSuiDropdown.ctorParameters;\n/** @type {?} */\nSuiDropdown.propDecorators;\n/** @type {?} */\nSuiDropdown.prototype.service;\n/** @type {?} */\nSuiDropdown.prototype._menu;\n/** @type {?} */\nSuiDropdown.prototype._children;\n/** @type {?} */\nSuiDropdown.prototype._element;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}